학습 목표  
트랜잭션(Transaction)이 무엇인지 이해할 수 있다.  
트랜잭션(Transaction) 경계가 무엇인지 이해할 수 있다.  
Spring에서 지원하는 트랜잭션 방식을 이해할 수 있다.  
샘플 애플리케이션에 트랜잭션을 적용할 수 있다.  
  
  
무조건 여러 개의 작업을 그룹으로 묶는다고해서 트랜잭션이라고 부를 수 있는게 아니라  
물리적으로는 여러 개의 작업이지만 논리적으로는 마치 하나의 작업으로 인식해서  
전부 성공하든가 전부 실패하든가(All or Nothing)의 둘 중 하나로만 처리되어야 트랜잭션의 의미를 가집니다.  
이러한 All or Nothing이라는 트랜잭션 처리 방식은 애플리케이션에서 사용하는 데이터의 무결성을 보장하는 핵심적인 역할을 합니다.  

트랜잭션 커밋(commit)과 롤백(rollback)  
  
커밋(commit)  
커밋(commit)은 모든 작업을 최종적으로 데이터베이스에 반영하는 명령어로써  commit 명령을 수행하면 변경된 내용이 데이터베이스에 영구적으로 저장됩니다.  
만약 commit 명령을 수행하지 않으면 작업의 결과가 데이터베이스에 최종적으로 반영되지 않습니다.  
commit 명령을 수행하면, 하나의 트랜젝션 과정은 종료하게됩니다.  
롤백(rollback)  
롤백(rollback)은 작업 중 문제가 발생했을 때, 트랜잭션 내에서 수행된 작업들을 취소합니다.  
따라서 트랜잭션 시작 이 전의 상태로 되돌아갑니다.  

commit 직전에 rollback 명령을 먼저 수행하면 데이터는 테이블에 저장되지 않음.  

트랜잭션의 진정한 의미  
트랜잭션의 의미를 이해하기 위해 우리가 데이터베이스에서 작업을 처리하는 상황을 예로 들었지만  
트랜잭션은 사실 데이터베이스에만 한정해서 사용하는 의미는 아닙니다.  

예를 들어서 어떤 데이터를 로컬 데이터베이스에도 저장하고, 그 결과를 푸시 알림(push notification)으로 클라이언트에게 전송하는 기능이 있다면  
데이터베이스 저장과 푸시 알림 전송이라는 두 개의 작업이 하나의 트랜잭션으로 묶여져서  
둘 중에 하나라도 실패할 경우 롤백(rollback)이 되어야 할 수도 있습니다.(정책적으로 이 두 개의 작업을 별개로 보는 경우도 있습니다.)  

이처럼 전혀 다른 타입의 리소스(데이터베이스, 파일, 메시지 등)를 하나의 작업 단위로 묶어서 처리해야되는 상황에서는  
어떤식으로 트랜잭션을 적용하면 좋을지에 대해서 꼭 고민해보기.  


핵심 포인트  
트랜잭션은 여러개의 작업들을 하나의 그룹으로 묶어서 처리하는 처리 단위를 의미한다.  
  
ACID 원칙  
원자성(Atomicity)  
트랜잭션에서의 원자성(Atomicity)이란 작업을 더이상 쪼갤 수 없음을 의미한다.  
따라서 논리적으로 하나의 작업으로 인식해서 둘 다 성공하든 둘 다 실패하든가(All or Nothing)의 둘 중 하나로만 처리되는 것이 보장된다.  
일관성(Consistency)  
일관성(Consistency)은 트랜잭션이 에러없이 성공적으로 종료될 경우, 비즈니스 로직에서 의도하는대로 일관성있게 저장되거나 변경되는 것을 의미한다.  
고립성(Isolation)  
고립성(Isolation)은 여러 개의 트랜잭션이 실행될 경우 각각 독립적으로 실행이 되어야 함을 의미한다.  
지속성(Durability)  
지속성(Durability)은 여러분들이 잘 알고있다시피 데이터베이스가 종료되어도 데이터는 물리적인 저장소에 저장되어 지속적으로 유지되어야 한다는 의미한다.  
  
커밋(commit)  
커밋(commit)은 모든 작업을 최종적으로 데이터베이스에 반영하는 명령어로써  commit 명령을 수행하면 변경된 내용이 데이터베이스에 영구적으로 저장된다.  
만약 commit 명령을 수행하지 않으면 작업의 결과가 데이터베이스에 최종적으로 반영되지 않는다.  
commit 명령을 수행하면, 하나의 트랜젝션 과정은 종료하게된다.  
  
롤백(rollback)  
롤백(rollback)은 작업 중 문제가 발생했을 때, 트랜잭션 내에서 수행된 작업들을 취소한다.  
따라서 트랜잭션 시작 이 전의 상태로 되돌아간다.  
JPA 기술을 사용한 데이터베이스와의 인터랙션은 내부적으로는 JDBC API를 통해서 이루어진다.  